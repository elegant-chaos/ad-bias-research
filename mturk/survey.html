<!-- You must include this JavaScript file -->
<script src="https://assets.crowd.aws/crowd-html-elements.js"></script>
<style>
.marginauto {
    margin: 10px auto 20px;
    display: block;
}
</style>


<!-- For the full list of available Crowd HTML Elements and their input/output documentation,
      please refer to https://docs.aws.amazon.com/sagemaker/latest/dg/sms-ui-template-reference.html -->

<!-- You must include crowd-form so that your task submits answers to MTurk -->
<crowd-form id="survey" answer-format="flatten-objects">

  <crowd-instructions link-text="View instructions" link-type="button">
    <short-summary>
      <p>Provide a brief instruction here</p>
    </short-summary>
  </crowd-instructions>
  
    <div>
        <img class="marginauto" width="50%" id="ad" src=""/>    
    </div>
    
    <div>
    <p>
        On a scale from 1 to 5, where 1 means “completely unrelated” and 5 means “perfectly related”, how well does the advertisement for “Black and Blue” (outlined in red) match the content of the webpage?
    </p>
    <crowd-radio-group required name="relevancy">
        
        <crowd-radio-button name="1">1</crowd-radio-button>
        <crowd-radio-button name="2">2</crowd-radio-button>
        <crowd-radio-button name="3">3</crowd-radio-button>
        <crowd-radio-button name="4">4</crowd-radio-button>
        <crowd-radio-button name="5">5</crowd-radio-button>
    </crowd-radio-group>
  </div>

  <div>
    <p>What is the zip code of your primary residence?</p>
    <crowd-input name="zipCode" placeholder="example: 02459" required></crowd-input>
  </div>

  <div>
    <p>What is your age?</p>
    <crowd-input max-length="3" auto-validate allowed-pattern="^[0-9]*$" name="age" required></crowd-input>
  </div>
  
  <div>
    <p>What is your gender?</p>
    <select name="gender" id="gender-select" required>
        <option value="">--Please choose an option--</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
    </select>
  </div>
  <br>
  
  <div>
    <p>Are you hispanic or latino?</p>
    <select name="gender" id="gender-select" required>
        <option value="">--Please choose an option--</option>
        <option value="Yes">Male</option>
        <option value="No">Female</option>
        <option value="Decline to self identify">Other</option>
    </select>
  </div>
  
  <br>
  
  <div id="hidden">
  </div>
</crowd-form>

<script type="text/javascript">
	var surveyNode = document.getElementById("hidden")
    var rand = Math.floor((Math.random() * 2) + 1);
    var hiddeninput = document.createElement("INPUT");
	
    hiddeninput.setAttribute("name", "imageId")
    if (rand === 1) {
        document.getElementById("ad").src="https://i.redd.it/k089v2uvzuw31.jpg";
        hiddeninput.setAttribute("value", "1")
    }
    else {
        document.getElementById("ad").src="https://i.redd.it/9u19lhy2zow31.png";
        hiddeninput.setAttribute("value", "2")
    }
    hiddeninput.setAttribute("type", "hidden");
	surveyNode.appendChild(hiddeninput); 
</script>